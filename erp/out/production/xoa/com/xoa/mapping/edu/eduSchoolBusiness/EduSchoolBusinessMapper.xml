<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.xoa.dao.edu.eduSchoolBusiness.EduSchoolBusinessMapper">
  <resultMap id="BaseResultMap" type="com.xoa.model.edu.eduSchoolBusiness.EduSchoolBusiness">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <result column="NOTIFY_ID" jdbcType="INTEGER" property="notifyId" />
    <result column="FROM_DEPT" jdbcType="INTEGER" property="fromDept" />
    <result column="FROM_ID" jdbcType="VARCHAR" property="fromId" />
    <result column="SUBJECT" jdbcType="VARCHAR" property="subject" />
    <result column="SEND_TIME" jdbcType="TIMESTAMP" property="sendTime" />
    <result column="BEGIN_DATE" jdbcType="INTEGER" property="beginDate" />
    <result column="END_DATE" jdbcType="INTEGER" property="endDate" />
    <result column="PRINT" jdbcType="CHAR" property="print" />
    <result column="TYPE_ID" jdbcType="VARCHAR" property="typeId" />
    <result column="TOP" jdbcType="VARCHAR" property="top" />
    <result column="TOP_DAYS" jdbcType="INTEGER" property="topDays" />
    <result column="FORMAT" jdbcType="VARCHAR" property="format" />
    <result column="PUBLISH" jdbcType="CHAR" property="publish" />
    <result column="AUDITER" jdbcType="VARCHAR" property="auditer" />
    <result column="AUDIT_DATE" jdbcType="DATE" property="auditDate" />
    <result column="DOWNLOAD" jdbcType="CHAR" property="download" />
    <result column="LAST_EDITOR" jdbcType="VARCHAR" property="lastEditor" />
    <result column="LAST_EDIT_TIME" jdbcType="TIMESTAMP" property="lastEditTime" />
    <result column="SUBJECT_COLOR" jdbcType="VARCHAR" property="subjectColor" />
    <result column="KEYWORD" jdbcType="VARCHAR" property="keyword" />
    <result column="IS_FW" jdbcType="CHAR" property="isFw" />


    <result column="TO_ID" jdbcType="LONGVARCHAR" property="toId" />
    <result column="CONTENT" jdbcType="LONGVARCHAR" property="content" />
    <result column="ATTACHMENT_ID" jdbcType="LONGVARCHAR" property="attachmentId" />
    <result column="ATTACHMENT_NAME" jdbcType="LONGVARCHAR" property="attachmentName" />
    <result column="READERS" jdbcType="LONGVARCHAR" property="readers" />
    <result column="PRIV_ID" jdbcType="LONGVARCHAR" property="privId" />
    <result column="USER_ID" jdbcType="LONGVARCHAR" property="userId" />
    <result column="REASON" jdbcType="LONGVARCHAR" property="reason" />
    <result column="COMPRESS_CONTENT" jdbcType="LONGVARBINARY" property="compressContent" />
    <result column="SUMMARY" jdbcType="LONGVARCHAR" property="summary" />
	 <association javaType="com.xoa.model.users.Users"
                 property="users">
      <id javaType="int" property="uid" column="UID" />
      <result javaType="string" property="userId" column="USER_ID" />
      <result javaType="string" property="userName" column="USER_NAME" />
      <result column="SEX" property="sex" javaType="string"/>
      <result column="AVATAR" property="avatar" javaType="string"/>
    </association>

    <association property="codes" javaType="com.xoa.model.common.SysCode">
      <id column="CODE_ID" property="codeId" javaType="int" />
      <result column="CODE_NO" property="codeNo" javaType="String" />
      <result column="CODE_NAME" property="codeName" javaType="String" />
      <result column="CODE_ORDER" property="codeOrder" javaType="String" />
      <result column="PARENT_NO" property="parentNo" javaType="String" />
    </association>
  </resultMap>
  <resultMap id="DeptResultMap" type="com.xoa.model.department.Department">
    <id column="DEPT_ID" property="deptId" javaType="int"/>
    <result column="DEPT_NAME" property="deptName" javaType="string"/>
  </resultMap>

  <resultMap extends="BaseResultMap" id="ResultMapWithBLOBs" type="com.xoa.model.edu.eduSchoolBusiness.EduSchoolBusinessWithBLOBs">

  </resultMap>
<!--  <sql id="Example_Where_Clause">
    &lt;!&ndash;
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    &ndash;&gt;
    <where>
      <foreach collection="oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause">
    &lt;!&ndash;
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    &ndash;&gt;
    <where>
      <foreach collection="example.oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List">
    &lt;!&ndash;
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    &ndash;&gt;
    NOTIFY_ID, FROM_DEPT, FROM_ID, SUBJECT, SEND_TIME, BEGIN_DATE, END_DATE, PRINT, TYPE_ID, 
    TOP, TOP_DAYS, FORMAT, PUBLISH, AUDITER, AUDIT_DATE, DOWNLOAD, LAST_EDITOR, LAST_EDIT_TIME, 
    SUBJECT_COLOR, KEYWORD, IS_FW
  </sql>
  <sql id="Blob_Column_List">
    &lt;!&ndash;
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    &ndash;&gt;
    TO_ID, CONTENT, ATTACHMENT_ID, ATTACHMENT_NAME, READERS, PRIV_ID, USER_ID, REASON, 
    COMPRESS_CONTENT, SUMMARY
  </sql>-->
 <!-- <select id="selectByExampleWithBLOBs" parameterType="com.xoa.model.edu.eduSchoolBusiness.EduSchoolBusinessExample" resultMap="ResultMapWithBLOBs">
    &lt;!&ndash;
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    &ndash;&gt;
    select
    <if test="distinct">
      distinct
    </if>
    <include refid="Base_Column_List" />
    ,
    <include refid="Blob_Column_List" />
    from edu_school_business
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectByExample" parameterType="com.xoa.model.edu.eduSchoolBusiness.EduSchoolBusinessExample" resultMap="BaseResultMap">
    &lt;!&ndash;
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    &ndash;&gt;
    select
    <if test="distinct">
      distinct
    </if>
    <include refid="Base_Column_List" />
    from edu_school_business
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
  <delete id="deleteByExample" parameterType="com.xoa.model.edu.eduSchoolBusiness.EduSchoolBusinessExample">
    &lt;!&ndash;
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    &ndash;&gt;
    delete from edu_school_business
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="com.xoa.model.edu.eduSchoolBusiness.EduSchoolBusinessWithBLOBs">
    &lt;!&ndash;
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    &ndash;&gt;
    insert into edu_school_business (NOTIFY_ID, FROM_DEPT, FROM_ID, 
      SUBJECT, SEND_TIME, BEGIN_DATE, 
      END_DATE, PRINT, TYPE_ID, 
      TOP, TOP_DAYS, FORMAT, 
      PUBLISH, AUDITER, AUDIT_DATE, 
      DOWNLOAD, LAST_EDITOR, LAST_EDIT_TIME, 
      SUBJECT_COLOR, KEYWORD, IS_FW, 
      TO_ID, CONTENT, ATTACHMENT_ID, 
      ATTACHMENT_NAME, READERS, PRIV_ID, 
      USER_ID, REASON, COMPRESS_CONTENT, 
      SUMMARY)
    values (#{notifyId,jdbcType=INTEGER}, #{fromDept,jdbcType=INTEGER}, #{fromId,jdbcType=VARCHAR}, 
      #{subject,jdbcType=VARCHAR}, #{sendTime,jdbcType=TIMESTAMP}, #{beginDate,jdbcType=INTEGER}, 
      #{endDate,jdbcType=INTEGER}, #{print,jdbcType=CHAR}, #{typeId,jdbcType=VARCHAR}, 
      #{top,jdbcType=VARCHAR}, #{topDays,jdbcType=INTEGER}, #{format,jdbcType=VARCHAR}, 
      #{publish,jdbcType=CHAR}, #{auditer,jdbcType=VARCHAR}, #{auditDate,jdbcType=DATE}, 
      #{download,jdbcType=CHAR}, #{lastEditor,jdbcType=VARCHAR}, #{lastEditTime,jdbcType=TIMESTAMP}, 
      #{subjectColor,jdbcType=VARCHAR}, #{keyword,jdbcType=VARCHAR}, #{isFw,jdbcType=CHAR}, 
      #{toId,jdbcType=LONGVARCHAR}, #{content,jdbcType=LONGVARCHAR}, #{attachmentId,jdbcType=LONGVARCHAR}, 
      #{attachmentName,jdbcType=LONGVARCHAR}, #{readers,jdbcType=LONGVARCHAR}, #{privId,jdbcType=LONGVARCHAR}, 
      #{userId,jdbcType=LONGVARCHAR}, #{reason,jdbcType=LONGVARCHAR}, #{compressContent,jdbcType=LONGVARBINARY}, 
      #{summary,jdbcType=LONGVARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.xoa.model.edu.eduSchoolBusiness.EduSchoolBusinessWithBLOBs">
    &lt;!&ndash;
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    &ndash;&gt;
    insert into edu_school_business
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="notifyId != null">
        NOTIFY_ID,
      </if>
      <if test="fromDept != null">
        FROM_DEPT,
      </if>
      <if test="fromId != null">
        FROM_ID,
      </if>
      <if test="subject != null">
        SUBJECT,
      </if>
      <if test="sendTime != null">
        SEND_TIME,
      </if>
      <if test="beginDate != null">
        BEGIN_DATE,
      </if>
      <if test="endDate != null">
        END_DATE,
      </if>
      <if test="print != null">
        PRINT,
      </if>
      <if test="typeId != null">
        TYPE_ID,
      </if>
      <if test="top != null">
        TOP,
      </if>
      <if test="topDays != null">
        TOP_DAYS,
      </if>
      <if test="format != null">
        FORMAT,
      </if>
      <if test="publish != null">
        PUBLISH,
      </if>
      <if test="auditer != null">
        AUDITER,
      </if>
      <if test="auditDate != null">
        AUDIT_DATE,
      </if>
      <if test="download != null">
        DOWNLOAD,
      </if>
      <if test="lastEditor != null">
        LAST_EDITOR,
      </if>
      <if test="lastEditTime != null">
        LAST_EDIT_TIME,
      </if>
      <if test="subjectColor != null">
        SUBJECT_COLOR,
      </if>
      <if test="keyword != null">
        KEYWORD,
      </if>
      <if test="isFw != null">
        IS_FW,
      </if>
      <if test="toId != null">
        TO_ID,
      </if>
      <if test="content != null">
        CONTENT,
      </if>
      <if test="attachmentId != null">
        ATTACHMENT_ID,
      </if>
      <if test="attachmentName != null">
        ATTACHMENT_NAME,
      </if>
      <if test="readers != null">
        READERS,
      </if>
      <if test="privId != null">
        PRIV_ID,
      </if>
      <if test="userId != null">
        USER_ID,
      </if>
      <if test="reason != null">
        REASON,
      </if>
      <if test="compressContent != null">
        COMPRESS_CONTENT,
      </if>
      <if test="summary != null">
        SUMMARY,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="notifyId != null">
        #{notifyId,jdbcType=INTEGER},
      </if>
      <if test="fromDept != null">
        #{fromDept,jdbcType=INTEGER},
      </if>
      <if test="fromId != null">
        #{fromId,jdbcType=VARCHAR},
      </if>
      <if test="subject != null">
        #{subject,jdbcType=VARCHAR},
      </if>
      <if test="sendTime != null">
        #{sendTime,jdbcType=TIMESTAMP},
      </if>
      <if test="beginDate != null">
        #{beginDate,jdbcType=INTEGER},
      </if>
      <if test="endDate != null">
        #{endDate,jdbcType=INTEGER},
      </if>
      <if test="print != null">
        #{print,jdbcType=CHAR},
      </if>
      <if test="typeId != null">
        #{typeId,jdbcType=VARCHAR},
      </if>
      <if test="top != null">
        #{top,jdbcType=VARCHAR},
      </if>
      <if test="topDays != null">
        #{topDays,jdbcType=INTEGER},
      </if>
      <if test="format != null">
        #{format,jdbcType=VARCHAR},
      </if>
      <if test="publish != null">
        #{publish,jdbcType=CHAR},
      </if>
      <if test="auditer != null">
        #{auditer,jdbcType=VARCHAR},
      </if>
      <if test="auditDate != null">
        #{auditDate,jdbcType=DATE},
      </if>
      <if test="download != null">
        #{download,jdbcType=CHAR},
      </if>
      <if test="lastEditor != null">
        #{lastEditor,jdbcType=VARCHAR},
      </if>
      <if test="lastEditTime != null">
        #{lastEditTime,jdbcType=TIMESTAMP},
      </if>
      <if test="subjectColor != null">
        #{subjectColor,jdbcType=VARCHAR},
      </if>
      <if test="keyword != null">
        #{keyword,jdbcType=VARCHAR},
      </if>
      <if test="isFw != null">
        #{isFw,jdbcType=CHAR},
      </if>
      <if test="toId != null">
        #{toId,jdbcType=LONGVARCHAR},
      </if>
      <if test="content != null">
        #{content,jdbcType=LONGVARCHAR},
      </if>
      <if test="attachmentId != null">
        #{attachmentId,jdbcType=LONGVARCHAR},
      </if>
      <if test="attachmentName != null">
        #{attachmentName,jdbcType=LONGVARCHAR},
      </if>
      <if test="readers != null">
        #{readers,jdbcType=LONGVARCHAR},
      </if>
      <if test="privId != null">
        #{privId,jdbcType=LONGVARCHAR},
      </if>
      <if test="userId != null">
        #{userId,jdbcType=LONGVARCHAR},
      </if>
      <if test="reason != null">
        #{reason,jdbcType=LONGVARCHAR},
      </if>
      <if test="compressContent != null">
        #{compressContent,jdbcType=LONGVARBINARY},
      </if>
      <if test="summary != null">
        #{summary,jdbcType=LONGVARCHAR},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="com.xoa.model.edu.eduSchoolBusiness.EduSchoolBusinessExample" resultType="java.lang.Integer">
    &lt;!&ndash;
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    &ndash;&gt;
    select count(*) from edu_school_business
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map">
    &lt;!&ndash;
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    &ndash;&gt;
    update edu_school_business
    <set>
      <if test="record.notifyId != null">
        NOTIFY_ID = #{record.notifyId,jdbcType=INTEGER},
      </if>
      <if test="record.fromDept != null">
        FROM_DEPT = #{record.fromDept,jdbcType=INTEGER},
      </if>
      <if test="record.fromId != null">
        FROM_ID = #{record.fromId,jdbcType=VARCHAR},
      </if>
      <if test="record.subject != null">
        SUBJECT = #{record.subject,jdbcType=VARCHAR},
      </if>
      <if test="record.sendTime != null">
        SEND_TIME = #{record.sendTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.beginDate != null">
        BEGIN_DATE = #{record.beginDate,jdbcType=INTEGER},
      </if>
      <if test="record.endDate != null">
        END_DATE = #{record.endDate,jdbcType=INTEGER},
      </if>
      <if test="record.print != null">
        PRINT = #{record.print,jdbcType=CHAR},
      </if>
      <if test="record.typeId != null">
        TYPE_ID = #{record.typeId,jdbcType=VARCHAR},
      </if>
      <if test="record.top != null">
        TOP = #{record.top,jdbcType=VARCHAR},
      </if>
      <if test="record.topDays != null">
        TOP_DAYS = #{record.topDays,jdbcType=INTEGER},
      </if>
      <if test="record.format != null">
        FORMAT = #{record.format,jdbcType=VARCHAR},
      </if>
      <if test="record.publish != null">
        PUBLISH = #{record.publish,jdbcType=CHAR},
      </if>
      <if test="record.auditer != null">
        AUDITER = #{record.auditer,jdbcType=VARCHAR},
      </if>
      <if test="record.auditDate != null">
        AUDIT_DATE = #{record.auditDate,jdbcType=DATE},
      </if>
      <if test="record.download != null">
        DOWNLOAD = #{record.download,jdbcType=CHAR},
      </if>
      <if test="record.lastEditor != null">
        LAST_EDITOR = #{record.lastEditor,jdbcType=VARCHAR},
      </if>
      <if test="record.lastEditTime != null">
        LAST_EDIT_TIME = #{record.lastEditTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.subjectColor != null">
        SUBJECT_COLOR = #{record.subjectColor,jdbcType=VARCHAR},
      </if>
      <if test="record.keyword != null">
        KEYWORD = #{record.keyword,jdbcType=VARCHAR},
      </if>
      <if test="record.isFw != null">
        IS_FW = #{record.isFw,jdbcType=CHAR},
      </if>
      <if test="record.toId != null">
        TO_ID = #{record.toId,jdbcType=LONGVARCHAR},
      </if>
      <if test="record.content != null">
        CONTENT = #{record.content,jdbcType=LONGVARCHAR},
      </if>
      <if test="record.attachmentId != null">
        ATTACHMENT_ID = #{record.attachmentId,jdbcType=LONGVARCHAR},
      </if>
      <if test="record.attachmentName != null">
        ATTACHMENT_NAME = #{record.attachmentName,jdbcType=LONGVARCHAR},
      </if>
      <if test="record.readers != null">
        READERS = #{record.readers,jdbcType=LONGVARCHAR},
      </if>
      <if test="record.privId != null">
        PRIV_ID = #{record.privId,jdbcType=LONGVARCHAR},
      </if>
      <if test="record.userId != null">
        USER_ID = #{record.userId,jdbcType=LONGVARCHAR},
      </if>
      <if test="record.reason != null">
        REASON = #{record.reason,jdbcType=LONGVARCHAR},
      </if>
      <if test="record.compressContent != null">
        COMPRESS_CONTENT = #{record.compressContent,jdbcType=LONGVARBINARY},
      </if>
      <if test="record.summary != null">
        SUMMARY = #{record.summary,jdbcType=LONGVARCHAR},
      </if>
    </set>
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExampleWithBLOBs" parameterType="map">
    &lt;!&ndash;
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    &ndash;&gt;
    update edu_school_business
    set NOTIFY_ID = #{record.notifyId,jdbcType=INTEGER},
      FROM_DEPT = #{record.fromDept,jdbcType=INTEGER},
      FROM_ID = #{record.fromId,jdbcType=VARCHAR},
      SUBJECT = #{record.subject,jdbcType=VARCHAR},
      SEND_TIME = #{record.sendTime,jdbcType=TIMESTAMP},
      BEGIN_DATE = #{record.beginDate,jdbcType=INTEGER},
      END_DATE = #{record.endDate,jdbcType=INTEGER},
      PRINT = #{record.print,jdbcType=CHAR},
      TYPE_ID = #{record.typeId,jdbcType=VARCHAR},
      TOP = #{record.top,jdbcType=VARCHAR},
      TOP_DAYS = #{record.topDays,jdbcType=INTEGER},
      FORMAT = #{record.format,jdbcType=VARCHAR},
      PUBLISH = #{record.publish,jdbcType=CHAR},
      AUDITER = #{record.auditer,jdbcType=VARCHAR},
      AUDIT_DATE = #{record.auditDate,jdbcType=DATE},
      DOWNLOAD = #{record.download,jdbcType=CHAR},
      LAST_EDITOR = #{record.lastEditor,jdbcType=VARCHAR},
      LAST_EDIT_TIME = #{record.lastEditTime,jdbcType=TIMESTAMP},
      SUBJECT_COLOR = #{record.subjectColor,jdbcType=VARCHAR},
      KEYWORD = #{record.keyword,jdbcType=VARCHAR},
      IS_FW = #{record.isFw,jdbcType=CHAR},
      TO_ID = #{record.toId,jdbcType=LONGVARCHAR},
      CONTENT = #{record.content,jdbcType=LONGVARCHAR},
      ATTACHMENT_ID = #{record.attachmentId,jdbcType=LONGVARCHAR},
      ATTACHMENT_NAME = #{record.attachmentName,jdbcType=LONGVARCHAR},
      READERS = #{record.readers,jdbcType=LONGVARCHAR},
      PRIV_ID = #{record.privId,jdbcType=LONGVARCHAR},
      USER_ID = #{record.userId,jdbcType=LONGVARCHAR},
      REASON = #{record.reason,jdbcType=LONGVARCHAR},
      COMPRESS_CONTENT = #{record.compressContent,jdbcType=LONGVARBINARY},
      SUMMARY = #{record.summary,jdbcType=LONGVARCHAR}
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map">
    &lt;!&ndash;
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    &ndash;&gt;
    update edu_school_business
    set NOTIFY_ID = #{record.notifyId,jdbcType=INTEGER},
      FROM_DEPT = #{record.fromDept,jdbcType=INTEGER},
      FROM_ID = #{record.fromId,jdbcType=VARCHAR},
      SUBJECT = #{record.subject,jdbcType=VARCHAR},
      SEND_TIME = #{record.sendTime,jdbcType=TIMESTAMP},
      BEGIN_DATE = #{record.beginDate,jdbcType=INTEGER},
      END_DATE = #{record.endDate,jdbcType=INTEGER},
      PRINT = #{record.print,jdbcType=CHAR},
      TYPE_ID = #{record.typeId,jdbcType=VARCHAR},
      TOP = #{record.top,jdbcType=VARCHAR},
      TOP_DAYS = #{record.topDays,jdbcType=INTEGER},
      FORMAT = #{record.format,jdbcType=VARCHAR},
      PUBLISH = #{record.publish,jdbcType=CHAR},
      AUDITER = #{record.auditer,jdbcType=VARCHAR},
      AUDIT_DATE = #{record.auditDate,jdbcType=DATE},
      DOWNLOAD = #{record.download,jdbcType=CHAR},
      LAST_EDITOR = #{record.lastEditor,jdbcType=VARCHAR},
      LAST_EDIT_TIME = #{record.lastEditTime,jdbcType=TIMESTAMP},
      SUBJECT_COLOR = #{record.subjectColor,jdbcType=VARCHAR},
      KEYWORD = #{record.keyword,jdbcType=VARCHAR},
      IS_FW = #{record.isFw,jdbcType=CHAR}
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>-->
<!--
  <resultMap extends="BaseResultMap" id="ResultMapWithBLOBs" type="com.xoa.model.edu.eduSchoolBusiness.EduSchoolBusinessWithBLOBs">
  </resultMap>
-->


  <insert id="addEduSchoolBus" parameterType="com.xoa.model.edu.eduSchoolBusiness.EduSchoolBusiness">
    <selectKey keyProperty="notifyId" order="AFTER" resultType="int">
      SELECT LAST_INSERT_ID()
    </selectKey>
    INSERT INTO edu_school_business
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="fromId != null">
        FROM_ID,
      </if>
      <if test="fromDept != null">
        FROM_DEPT ,
      </if>
      <if test="toId != null">
        TO_ID ,
      </if>
      <if test="format != null">
        FORMAT,
      </if>
      <if test="typeId != null">
        TYPE_ID ,
      </if>
      <if test="subject != null">
        SUBJECT ,
      </if>
      <if test="sendTime != null">
        SEND_TIME ,
      </if>
      <if test="content != null">
        CONTENT ,
      </if>
      <if test="beginDate != null">
        BEGIN_DATE ,
      </if>
      <if test="attachmentId != null">
        ATTACHMENT_ID,
      </if>
      <if test="readers != null">
        READERS ,
      </if>
      <if test="privId != null">
        PRIV_ID ,
      </if>
      <if test="top != null">
        TOP ,
      </if>
      <if test="topDays != null">
        TOP_DAYS ,
      </if>
      <if test="publish != null">
        PUBLISH ,
      </if>
      <if test="reason != null">
        REASON,
      </if>
      <if test="compressContent != null">
        COMPRESS_CONTENT ,
      </if>
      <if test="lastEditor != null">
        LAST_EDITOR,
      </if>
      <if test="subjectColor != null">
        SUBJECT_COLOR ,
      </if>
      <if test="keyword != null">
        KEYWORD ,
      </if>
      <if test="endDate != null">
        END_DATE ,
      </if>
      <if test="attachmentName != null">
        ATTACHMENT_NAME,
      </if>
      <if test="print != null">
        PRINT ,
      </if>
      <if test="userId != null">
        USER_ID ,
      </if>
      <if test="auditer != null">
        AUDITER ,
      </if>
      <if test="auditDate != null">
        AUDIT_DATE ,
      </if>
      <if test="download != null">
        DOWNLOAD ,
      </if>
      <if test="lastEditTime != null">
        LAST_EDIT_TIME ,
      </if>
      <if test="summary != null">
        SUMMARY ,
      </if>
      <if test="isFw != null">
        IS_FW ,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="fromId != null">
        #{fromId},
      </if>
      <if test="fromDept != null">
        #{fromDept} ,
      </if>
      <if test="toId != null">
        #{toId} ,
      </if>
      <if test="format != null">
        #{format},
      </if>
      <if test="typeId != null">
        #{typeId} ,
      </if>
      <if test="subject != null">
        #{subject} ,
      </if>
      <if test="sendTime != null">
        #{sendTime},
      </if>
      <if test="content != null">
        #{content} ,
      </if>
      <if test="beginDate != null">
        #{beginDate} ,
      </if>
      <if test="attachmentId != null">
        #{attachmentId},
      </if>
      <if test="readers != null">
        #{readers} ,
      </if>
      <if test="privId != null">
        #{privId },
      </if>
      <if test="top != null">
        #{top} ,
      </if>
      <if test="topDays != null">
        #{topDays} ,
      </if>
      <if test="publish != null">
        #{publish} ,
      </if>
      <if test="reason != null">
        #{reason},
      </if>
      <if test="compressContent != null">
        #{compressContent} ,
      </if>
      <if test="lastEditor != null">
        #{lastEditor},
      </if>
      <if test="subjectColor != null">
        #{subjectColor },
      </if>
      <if test="keyword != null">
        #{keyword} ,
      </if>
      <if test="endDate != null">
        #{endDate} ,
      </if>
      <if test="attachmentName != null">
        #{attachmentName},
      </if>
      <if test="print != null">
        #{print} ,
      </if>
      <if test="userId != null">
        #{userId} ,
      </if>
      <if test="auditer != null">
        #{auditer} ,
      </if>
      <if test="auditDate != null">
        #{auditDate} ,
      </if>
      <if test="download != null">
        #{download} ,
      </if>
      <if test="lastEditTime != null">
        #{lastEditTime} ,
      </if>
      <if test="summary != null">
        #{summary} ,
      </if>
      <if test="isFw != null">
        #{isFw} ,
      </if>
    </trim>
  </insert>

  <update id="updateEduSchoolBus" parameterType="com.xoa.model.edu.eduSchoolBusiness.EduSchoolBusiness">
    update edu_school_business
    <set>
      <trim suffixOverrides=",">
        <if test="fromId != null and fromId != ''">
          FROM_ID = #{fromId},
        </if>
        <if test="fromDept != null and fromDept != ''">
          FROM_DEPT = #{fromDept},
        </if>
        <if test="toId != null and toId != ''">
          TO_ID = #{toId},
        </if>
        <if test="format != null and format != ''">
          FORMAT = #{format},
        </if>
        <if test="typeId != null and typeId != ''">
          TYPE_ID = #{typeId},
        </if>
        <if test="subject != null and subject != ''">
          SUBJECT = #{subject},
        </if>
        <if test="sendTime != null and sendTime != ''">
          SEND_TIME = #{sendTime},
        </if>
        <if test="content != null and content != ''">
          CONTENT = #{content},
        </if>
        <if test="beginDate != null and beginDate != ''">
          BEGIN_DATE = #{beginDate},
        </if>
        <if test="attachmentId != null ">
          ATTACHMENT_ID = #{attachmentId},
        </if>
        READERS = #{readers},
        <if test="privId != null and privId != ''">
          PRIV_ID = #{privId},
        </if>
        <if test="top != null and top != ''">
          TOP = #{top},
        </if>
        <if test="topDays != null and topDays != ''">
          TOP_DAYS = #{topDays},
        </if>
        <if test="publish != null and publish != ''">
          PUBLISH = #{publish},
        </if>
        <if test="reason != null and reason != '' ">
          REASON = #{reason},
        </if>
        <if test="compressContent != null and compressContent != ''">
          COMPRESS_CONTENT = #{compressContent},
        </if>
        <if test="lastEditor != null and lastEditor != ''">
          LAST_EDITOR = #{lastEditor},
        </if>
        <if test="subjectColor != null and subjectColor != ''">
          SUBJECT_COLOR = #{subjectColor},
        </if>
        <if test="keyword != null and keyword != ''">
          KEYWORD = #{keyword},
        </if>
        <if test="endDate != null and endDate != ''">
          END_DATE = #{endDate},
        </if>
        <if test="attachmentName != null ">
          ATTACHMENT_NAME = #{attachmentName},
        </if>
        <if test="print != null and print != ''">
          PRINT = #{print},
        </if>
        <if test="userId != null and userId != ''">
          USER_ID = #{userId},
        </if>
        <if test="auditer != null and auditer != ''">
          AUDITER = #{auditer},
        </if>
        <if test="auditDate != null and auditDate != ''">
          AUDIT_DATE = #{auditDate},
        </if>
        <if test="download != null and download != ''">
          DOWNLOAD = #{download},
        </if>
        <if test="lastEditTime != null and lastEditTime != ''">
          LAST_EDIT_TIME = #{lastEditTime},
        </if>
        <if test="summary != null and summary != ''">
          SUMMARY = #{summary},
        </if>
        <if test="isFw != null and isFw != ''">
          IS_FW = #{isFw},
        </if>
      </trim>
      where NOTIFY_ID = #{notifyId}
    </set>
  </update>
  <!--  校务管理列表及条件查询-->
  <select id="eduSchoolBusList" parameterType="Map" resultMap="BaseResultMap">
    SELECT
    n.NOTIFY_ID,n.SEND_TIME,n.TYPE_ID,n.`SUBJECT`,n.BEGIN_DATE,n.PUBLISH,
    n.ATTACHMENT_ID,n.ATTACHMENT_NAME,n.END_DATE,n.FROM_ID,n.FROM_DEPT,n.CONTENT,
    n.FORMAT,n.TO_ID,n.PRIV_ID,n.USER_ID, n.READERS,u.USER_NAME,u.AVATAR,u.SEX,n.TOP
    FROM    edu_school_business n,`user` u
    WHERE n.FROM_ID=u.USER_ID
    and (
    <trim suffixOverrides="OR">
      <if test="userPriv != null and userPriv != ''">
        (n.PRIV_ID LIKE concat('%,',#{userPriv},',%')
        OR n.PRIV_ID LIKE concat(#{userPriv},',%')
        )OR
      </if>
      <if test="deptId != null and deptId != ''">
        (n.TO_ID LIKE concat('%,',#{deptId},',%')
        OR n.TO_ID LIKE concat(#{deptId},',%')
        )OR
      </if>
      <if test="userId != null and userId != ''">
        (n.USER_ID LIKE concat('%,',#{userId},',%')
        OR n.USER_ID LIKE concat(#{userId},',%')
        )OR
      </if>
      n.TO_ID='ALL_DEPT'
    </trim>)
    <if test="notifyTime != null and notifyTime != ''"> AND  (n.END_DATE>unix_timestamp(date(#{notifyTime})) or n.END_DATE=0) </if>
    <if test="format != null and format != ''"> AND n.FORMAT = #{format} </if>
    <if test="toId != null and toId != ''"> AND n.TO_ID = #{toId} </if>
    <if test="typeId == -1 "> AND (n.TYPE_ID = '' OR  n.TYPE_ID IS  NULL ) </if>
    <if test="typeId != null and typeId != -1 "> AND n.TYPE_ID = #{typeId} </if>
    <if test="subject != null and subject != ''"> AND n.SUBJECT like CONCAT('%',#{subject},'%') </if>
    <if test="sendTime != null and sendTime != ''">
      AND DATE(n.SEND_TIME) = #{sendTime}
    </if>
    <if test="publish != null and publish != ''">
      AND n.PUBLISH = #{publish}
    </if>
    <if test="fromId != null and fromId != ''">
      AND n.FROM_ID = #{fromId}
    </if>
    <if test="fromDept != null and fromDept != ''">
      AND n.FROM_DEPT = #{fromDept}
    </if>
    <if test="top != null and top != ''">
      AND n.TOP = #{top}
    </if>
    <if test="beginDate != null and beginDate != '' and endDate != null and endDate != ''">
      AND DATE(n.SEND_TIME) between #{beginDate} and #{endDate}
    </if>
    <if test="content != null and content != ''"> AND n.CONTENT like CONCAT('%',#{content},'%') </if>
    ORDER BY n.TOP DESC ,n.SEND_TIME DESC
  </select>
  <!--根据部门分组统计发布公开数量部门时间查询-->
   <select id="eduSchoolConunt" parameterType="java.util.Map" resultType="java.util.Map">
          SELECT
              FROM_dept as 'fromDept',
              count(*) as 'cont'
          FROM
              edu_school_business
          WHERE   1=1
          <if test="fromDept!=null and  fromDept!=''">
                AND  FROM_DEPT = #{fromDept}
          </if>
          <if test="sendTime!=null and sendTime!=''">
                  AND (
                  SEND_TIME BETWEEN DATE(#{sendTime})
                  AND DATE(#{sendTime})
                  )
          </if>
          GROUP BY
              FROM_DEPT
   </select>
  <!--根据ID删除校务信息-->
    <delete id="eduSchoolDelete" parameterType="java.lang.Integer">
              delete  from  edu_school_business  where NOTIFY_ID=#{notifeyId}
    </delete>
  <!--根据ID查询对应校务及校务内容-->
    <select id="eduSchoolOnerSelect" parameterType="java.lang.Integer" resultType="java.util.Map">
              SELECT SUBJECT,CONTENT from edu_school_business  where NOTIFY_ID=#{notifeyId}
    </select>
</mapper>